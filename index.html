<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hyper Soccer âš½</title>
  <script src="https://unpkg.com/kaboom@3000.0.1/dist/kaboom.min.js"></script>
  <style> body { margin: 0; background: black; } </style>
</head>
<body>
<script>
kaboom({
  width: 1000, height: 600,
  background: [34, 139, 34],
  debug: false,
});

setGravity(0);

let scoreYou = 0;
let scoreAI = 0;

// Built-in sprites (no download needed!)
loadSprite("ball", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA8klEQVRYhc2XQRaFIAhFofP34f6X5Ur4k+wUgghq9oYWvBtCGcBmYSSIiEhMhujO1x2gmaqJO2HMm7zGXpDmxVHzHgj1QjFPKQEAQM7ZZcrjNAhxkYioJOCyQFpxEsQhmTcdBiTlRukG7SmKtCr0xt0rUVXgbV0kvDwreuBhfFbhuxUomjWGlfFZAWyZrxYi4vYt+PEFa5Rm6L4t2yuwHWB7E5pjqIn3indMh15EUqNGm9cN0DKKQIhfw1EDazs+9TV8AESO1V5xj6oCKyGk3OahlCt6WnIdSqMQXnMTwAMRMe8CsEDUxLN+zTwwb0zRdP0Bd7WBqUNv+GkAAAAASUVORK5CYII=");
loadSprite("player", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAoCAYAAADt5povAAAArElEQVRYhWNgGO6AkVQN/+9s+Y9igIoPSWaQpBjdMnIsJVohLstItZQoRYQsI8VSggqItYxYS5lIMYwaYPhbOPgSDbGWUjVbELKUJhkfl6XUL9qMppGUDxnOZY3mQ/oCzPAmNc4IAbQ4Hf5BOmrhqIUkA6LL0v9nM/EbZDwdwhgtS+ltIfFNjP//8TcxGBmJMmtw+tBITgTFd+cevWHEJ44PDP9EM2rhqIUkAwAmXDw/nyC8BAAAAABJRU5ErkJggg==");
loadSprite("computer", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAoCAYAAADt5povAAAArklEQVRYhe2WPRJAMBCFN86gViloNRzCcR2CRkuhUrvDqhQYyT4TJpPZV2Ze9pvs34Qodhn0Ai8dnwLkLRQDMl9hb6Bi4xMMhYpMLhgCdRqkMCk0QYL5UPzA8JpGCvU6Fi7oJ4P/BPW+2vqigOawmWedw391yzdaM5euNY0/pQpUICzxLq2nyeobypKIdJeGWMNDzGz/YhgjihXmC6ssPb1uXDdjO7cp/qZRoAJh7a/iPz/0YJVUAAAAAElFTkSuQmCC");

function makeBall() {
  const b = add([
    sprite("ball", { scale: 0.75 }),
    pos(width() / 2, height() / 2),
    area({ shape: "circle", radius: 12 }),
    body(),
    "ball"
  ]);
  b.action(() => { b.vel = b.vel.scale(0.98); });
}

scene("game", () => {
  add([text(`You: ${scoreYou}   AI: ${scoreAI}`), pos(20, 10), scale(2), layer("ui")]);
  onUpdate(() => { text(`You: ${scoreYou}   AI: ${scoreAI}`, pos(20, 10), scale(2), layer("ui")).text = `You: ${scoreYou}   AI: ${scoreAI}`; });

  add([rect(width(), 25), pos(0, 0), solid(), color(255), opacity(0.5)]);
  add([rect(width(), 25), pos(0, height()-25), solid(), color(255), opacity(0.5)]);
  add([rect(25, 180), pos(5, height()/2 - 90), area(), color(255), "aiGoal"]);
  add([rect(25, 180), pos(width()-30, height()/2 - 90), area(), color(255), "yourGoal"]);
  add([rect(25, 150), pos(0, 75), solid(), opacity(0.3)]);
  add([rect(25, 150), pos(0, height()-225), solid(), opacity(0.3)]);
  add([rect(25, 150), pos(width()-25, 75), solid(), opacity(0.3)]);
  add([rect(25, 150), pos(width()-25, height()-225), solid(), opacity(0.3)]);

  const player = add([sprite("player", { scale: 0.8 }), pos(80, height()/2), area(), body(), "player"]);
  const computer = add([sprite("computer", { scale: 0.8 }), pos(width()-120, height()/2), area(), body(), "computer"]);

  onKeyDown("left", () => player.move(-250, 0));
  onKeyDown("right", () => player.move(250, 0));
  onKeyDown("up", () => player.move(0, -250));
  onKeyDown("down", () => player.move(0, 250));

  computer.action(() => {
    const balls = get("ball");
    if (balls.length) {
      const dir = balls[0].pos.sub(computer.pos).unit().scale(180);
      computer.move(dir.x, dir.y);
    }
  });

  player.onCollide("ball", (b) => { const dir = b.pos.sub(player.pos).unit().scale(800); b.impulse(dir.x, dir.y); });
  computer.onCollide("ball", (b) => { const dir = b.pos.sub(computer.pos).unit().scale(700); b.impulse(dir.x, dir.y); });

  onCollide("yourGoal", "ball", () => { scoreYou++; destroy(get("ball")[0]); wait(1, makeBall); });
  onCollide("aiGoal", "ball", () => { scoreAI++; destroy(get("ball")[0]); wait(1, makeBall); });

  makeBall();
});

go("game");
</script>
</body>
</html>
